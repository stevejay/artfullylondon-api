import * as generator from "./named-closures-lookup-generator";
import * as namedClosureType from "../../types/named-closure-type";

describe("named closures lookup generator", () => {
  it("should generate the correct lookup data", () => {
    const seedData = {
      [namedClosureType.BANK_HOLIDAYS]: [
        "2018-01-01",
        "2018-03-30",
        "2018-04-02",
        "2018-05-07",
        "2018-05-28",
        "2018-08-27",
        "2018-12-25",
        "2018-12-26",
        "2019-01-01",
        "2019-04-19",
        "2019-04-22",
        "2019-05-06",
        "2019-05-27",
        "2019-08-26",
        "2019-12-25",
        "2019-12-26"
      ],
      [namedClosureType.EASTER_SUNDAY]: ["2018-04-01", "2019-04-21"],
      [namedClosureType.ROSH_HASHANAH]: [
        "2018-09-09",
        "2018-09-10",
        "2018-09-11",
        "2019-09-29",
        "2019-09-30",
        "2019-10-01"
      ],
      [namedClosureType.YOM_KIPPUR]: ["2018-09-19", "2019-10-08", "2019-10-09"]
    };

    const result = generator.generate(
      seedData,
      new Date("2018-01-10"),
      new Date("2019-01-12")
    );

    expect(result).toEqual({
      [namedClosureType.BANK_HOLIDAYS]: {
        label: "Bank Holidays",
        dates: [
          "2018-01-01",
          "2018-03-30",
          "2018-04-02",
          "2018-05-07",
          "2018-05-28",
          "2018-08-27",
          "2018-12-25",
          "2018-12-26",
          "2019-01-01",
          "2019-04-19",
          "2019-04-22",
          "2019-05-06",
          "2019-05-27",
          "2019-08-26",
          "2019-12-25",
          "2019-12-26"
        ]
      },
      [namedClosureType.BANK_HOLIDAY_WEEKENDS]: {
        label: "Bank Holiday Weekends",
        dates: [
          "2017-12-30",
          "2017-12-31",
          "2018-01-01",
          "2018-03-30",
          "2018-03-31",
          "2018-04-01",
          "2018-04-02",
          "2018-05-05",
          "2018-05-06",
          "2018-05-07",
          "2018-05-26",
          "2018-05-27",
          "2018-05-28",
          "2018-08-25",
          "2018-08-26",
          "2018-08-27",
          "2018-12-25",
          "2018-12-26",
          "2019-01-01",
          "2019-04-19",
          "2019-04-20",
          "2019-04-21",
          "2019-04-22",
          "2019-05-04",
          "2019-05-05",
          "2019-05-06",
          "2019-05-25",
          "2019-05-26",
          "2019-05-27",
          "2019-08-24",
          "2019-08-25",
          "2019-08-26",
          "2019-12-25",
          "2019-12-26"
        ]
      },
      [namedClosureType.CHRISTMAS_EVE]: {
        label: "Christmas Eve",
        dates: ["2018-12-24", "2019-12-24"]
      },
      [namedClosureType.CHRISTMAS_DAY]: {
        label: "Christmas Day",
        dates: ["2018-12-25", "2019-12-25"]
      },
      [namedClosureType.BOXING_DAY]: {
        label: "Boxing Day",
        dates: ["2018-12-26", "2019-12-26"]
      },
      [namedClosureType.NEW_YEARS_EVE]: {
        label: "New Years Eve",
        dates: ["2018-12-31", "2019-12-31"]
      },
      [namedClosureType.NEW_YEARS_DAY]: {
        label: "New Years Day",
        dates: ["2018-01-01", "2019-01-01"]
      },
      [namedClosureType.CHRISTMAS_PERIOD]: {
        label: "Christmas Period",
        dates: [
          "2018-12-24",
          "2018-12-25",
          "2018-12-26",
          "2018-12-27",
          "2018-12-28",
          "2018-12-29",
          "2018-12-30",
          "2018-12-31",
          "2019-01-01",
          "2019-12-24",
          "2019-12-25",
          "2019-12-26",
          "2019-12-27",
          "2019-12-28",
          "2019-12-29",
          "2019-12-30",
          "2019-12-31",
          "2020-01-01"
        ]
      },
      [namedClosureType.EASTER_SUNDAY]: {
        label: "Easter Sunday",
        dates: ["2018-04-01", "2019-04-21"]
      },
      [namedClosureType.EASTER_HOLIDAY_PERIOD]: {
        label: "Easter Holiday Period",
        dates: [
          "2018-03-30",
          "2018-03-31",
          "2018-04-01",
          "2018-04-02",
          "2019-04-19",
          "2019-04-20",
          "2019-04-21",
          "2019-04-22"
        ]
      },
      [namedClosureType.AUGUST_SATURDAYS]: {
        label: "August Saturdays",
        dates: [
          "2018-08-04",
          "2018-08-11",
          "2018-08-18",
          "2018-08-25",
          "2019-08-03",
          "2019-08-10",
          "2019-08-17",
          "2019-08-24",
          "2019-08-31"
        ]
      },
      [namedClosureType.AUGUST]: {
        label: "August",
        dates: [
          "2018-08-01",
          "2018-08-02",
          "2018-08-03",
          "2018-08-04",
          "2018-08-05",
          "2018-08-06",
          "2018-08-07",
          "2018-08-08",
          "2018-08-09",
          "2018-08-10",
          "2018-08-11",
          "2018-08-12",
          "2018-08-13",
          "2018-08-14",
          "2018-08-15",
          "2018-08-16",
          "2018-08-17",
          "2018-08-18",
          "2018-08-19",
          "2018-08-20",
          "2018-08-21",
          "2018-08-22",
          "2018-08-23",
          "2018-08-24",
          "2018-08-25",
          "2018-08-26",
          "2018-08-27",
          "2018-08-28",
          "2018-08-29",
          "2018-08-30",
          "2018-08-31",
          "2019-08-01",
          "2019-08-02",
          "2019-08-03",
          "2019-08-04",
          "2019-08-05",
          "2019-08-06",
          "2019-08-07",
          "2019-08-08",
          "2019-08-09",
          "2019-08-10",
          "2019-08-11",
          "2019-08-12",
          "2019-08-13",
          "2019-08-14",
          "2019-08-15",
          "2019-08-16",
          "2019-08-17",
          "2019-08-18",
          "2019-08-19",
          "2019-08-20",
          "2019-08-21",
          "2019-08-22",
          "2019-08-23",
          "2019-08-24",
          "2019-08-25",
          "2019-08-26",
          "2019-08-27",
          "2019-08-28",
          "2019-08-29",
          "2019-08-30",
          "2019-08-31"
        ]
      },
      [namedClosureType.ROSH_HASHANAH]: {
        label: "Rosh Hashanah",
        dates: [
          "2018-09-09",
          "2018-09-10",
          "2018-09-11",
          "2019-09-29",
          "2019-09-30",
          "2019-10-01"
        ]
      },
      [namedClosureType.YOM_KIPPUR]: {
        label: "Yom Kippur",
        dates: ["2018-09-19", "2019-10-08", "2019-10-09"]
      }
    });
  });
});
